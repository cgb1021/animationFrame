function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}!function(n,t){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).Animation={})}(this,function(n){"use strict";var a=function(n){return setTimeout(n,1e3/60)},u=clearTimeout;if("undefined"!=typeof window)if(void 0!==window.requestAnimationFrame)a=window.requestAnimationFrame,u=window.cancelAnimationFrame;else for(var t=["webkit","moz"],e=0,i=t.length;e<i;e++)if(void 0!==window["".concat(t,"RequestAnimationFrame")]){a=window["".concat(t,"RequestAnimationFrame")],u=window["".concat(t,"CancelAnimationFrame")];break}var o,r=[],f=!1;function c(){var t=Date.now();r.forEach(function(n){f&&(!n.interval||t-n.time>=n.interval)&&(n.time=t,n.fn(t))}),f&&(o=a(c))}n.animationAdd=function(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;if("function"==typeof n){for(var o=r.length,f=r.length-1;0<=f;f--){if(r[f].fn===n)return-1;i>r[f].prior&&(o=f)}return r.splice(o,0,{fn:n,interval:"number"==typeof t?Math.max(0,t):0,time:0,key:e,prior:i}),o}},n.animationRemove=function(n){var t=0;if(!n)return t=r.length,r.length=0,t;for(var e=0,i="function"==typeof n?"fn":"key";e<r.length;){r[e][i]!==n?e++:(r.splice(e,1),t++)}return t},n.animationStart=function(){f||(f=!0,o=a(c))},n.animationStop=function(){f=!1,u(o)},n.default=function(n){var e=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];this.interval=Math.max(0,+t)||0;var o=0,f=0,r={fn:"function"==typeof n?n:null,time:0};this.start=function(){r.fn&&(f||(f=1,this.interval?(r.time=0,function t(){o=a(function(){var n=Date.now();n-r.time>=e.interval&&(r.time=n,r.fn(n)),f&&t()})}()):function n(){o=a(function(){r.fn(Date.now()),f&&n()})}()))},this.stop=function(){f=0,u(o)},this.remove=function(){this.stop(),r.fn=null},this.fn=function(n){"function"==typeof n&&(r.fn=n)},i&&this.start()},Object.defineProperty(n,"__esModule",{value:!0})});